
<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="李佳豪QQ:154969555">
    <meta name="email" content="1549679555@qq.com">
    <title>世界因互联网美丽/人生因互联网完满/</title>
    <meta name="keywords" content="phpStudy">
    <meta name="description" content="一次性安装，无须配置即可使用，是非常方便、好用的PHP调试环境。该程序绿色小巧简易迷你仅有32M，有专门的控制面板。总之学习PHP只需一个包。对学习PHP的新手来说，WINDOWS下环境配置是一件很困难的事；对老手来说也是一件烦琐的事。因此无论你是新手还是老手，该程序包都是一个不错的选择。">
    <!--引入Font Awesome字体库样式表-->
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <!--引入guojian.min.css组件样式表-->
    <link rel="stylesheet" href="css/guojian.min.css">
    <!--引入style.css自定义样式表-->
    <link rel="stylesheet" href="css/style.css">
    <!--引入jquery.min.js组件脚本-->
    <script src="js/jquery-1.12.4.min.js" type="text/javascript"></script>
    <style type="text/css">
        body {background-image:none;}
        .gj-content .gj-cont pre, .gj-zp-cont .gj-cont pre {padding: 10px;background-color: #f5f5f5;border-radius: 5px;}
    </style>
</head>

<body>

<!--GJ-UI组件模块html代码开始-->
<nav class="gj-nav1 gcl-yh">
    <!--响应式导航栏-->
    <div class="gnav gclear">
        <div class="gj-logo gj-left">
            <a href="https://1549679555.github.io" title="李佳豪的陋居" style="color:#fff;font-size:30px;letter-spacing: 2px;margin: 4px 0;">李佳豪的陋居</a>
        </div>
        <i class="gbar fa fa-bars" aria-hidden="true"></i>
        <ul class="gnav-ul gj-right">
            <li><a href="https://1549679555.github.io"><i class="fa fa-home" aria-hidden="true"></i> 首页</a></li>
            <li class="gxz">
                <a href="index1.html">知识干货</a>
            </li>
            <li>
                <a href="index2.html">我的作品</a>
            </li>
            <li>
                <a href="index3.html">谈天说地</a>
            </li>
            <li>
                <a href="index4.html">心情说说</a>
            </li>

        </ul>
    </div>
</nav>    <div class="gcont">
    <div class="row">
        <div class="gj-lg-8">

            <div class="gj-wk gcl-hb">
                <!--内容页模块-->
                <nav class="gj-ljdh">
                    <i class="fa fa-home" aria-hidden="true"></i>
                    <a href="https://1549679555.github.io">首页</a> &gt; <a href="index1.html" title="知识干货">知识干货</a>                    </nav>
                <div class="gj-body gj-content">
                    <div class="gj-title">
                        <h3>HTTP灵魂拷问，你了解你的每次请求吗？（第一章）</h3>
                        <span>第一次修改时间：2020-03-30 21：50</span>
                        <a href="javascript:;" target="_blank">已编辑</a>
                        <span class="hidden-xs">编辑：李佳豪</span>
                        <span>阅读：101次</span>
                        <script>
                            window._bd_share_config = {
                                "common": {
                                    "bdSnsKey": {},
                                    "bdText": "",
                                    "bdMini": "2",
                                    "bdMiniList": false,
                                    "bdPic": "",
                                    "bdStyle": "0",
                                    "bdSize": "24"
                                },
                                "share": {}
                            };
                            with(document) 0[(getElementsByTagName('head')[0] || body).appendChild(createElement('script')).src = 'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=' + ~(-new Date() / 36e5)];
                        </script>
                    </div>
                    <div class="gj-cont">
                        <p>说自己的是Java Web程序员，每天和HTTP协议打交道，你对它到底了解多少？
                        理解HTTP对你了解整个交互过程至关重要，建议细品-精度，了解过后，你的每一次请求在你眼中都是透明的。
                            每次请求就好比过海关，你要严格监管！</p>
                        <h3>无论多么天衣无缝的犯罪，只要是人为的就没有解不开的道理，技术亦是如此！</h3>
                        <h5>001. HTTP 报文结构是怎样的？</h5>
                        <p>对于 TCP 而言，在传输的时候分为两个部分:TCP头和数据部分。</p>

                        <p>而 HTTP 类似，也是header + body的结构，具体而言:</p>

                        <p>起始行 + 头部 + 空行 + 实体</p>
                        <p>由于 http 请求报文和响应报文是有一定区别，因此我们分开介绍。</p>

                        <p>起始行
                            对于请求报文来说，起始行类似下面这样:</p>

                        <p>GET /home HTTP/1.1</p>
                        <p>也就是方法 + 路径 + http版本。</p>

                        <p>对于响应报文来说，起始行一般张这个样:</p>

                        <p>HTTP/1.1200 OK</p>
                        <p>响应报文的起始行也叫做状态行。由http版本、状态码和原因三部分组成。</p>

                        <p>值得注意的是，在起始行中，每两个部分之间用空格隔开，最后一个部分后面应该接一个换行，严格遵循ABNF语法规范。</p>

                        <p>头部</p>
                            <p>展示一下请求头和响应头在报文中的位置:</p>
                        <p><img title="1517476301723875.png" alt="phpstudy.png" src="img/http001.jpg"></p></li>
                        <p><img title="1517476301723875.png" alt="phpstudy.png" src="img/http003.jpg"></p></li>
                        <p>不管是请求头还是响应头，其中的字段是相当多的，而且牵扯到http非常多的特性，
                            这里就不一一列举的，重点看看这些头部字段的格式：</p>
                        <p>字段名不区分大小写</p>
                        <p>字段名不允许出现空格，不可以出现下划线_</p>
                        <p>字段名后面必须紧接着:</p>
                        <p>空行:</p>
                        <p>很重要，用来区分开头部和实体。-----

                            问: 如果说在头部中间故意加一个空行会怎么样？-----

                            答：那么空行后的内容全部被视为实体。</p>
                        <p>实体</p>
                        <p>就是具体的数据了，也就是body部分。请求报文对应请求体, 响应报文对应响应体。</p>
                        <h5>002. 如何理解 HTTP 的请求方法？</h5>
                        <p>有哪些请求方法？</p>
                        <p>http/1.1规定了以下请求方法(注意，都是大写):</p>
                        <p>GET: 通常用来获取资源</p>
                        <p>HEAD: 获取资源的元信息</p>
                        <p>POST: 提交数据，即上传数据</p>
                        <p>PUT: 修改数据</p>
                        <p>DELETE: 删除资源(几乎用不到)</p>
                        <p>CONNECT: 建立连接隧道，用于代理服务器</p>
                        <p>OPTIONS: 列出可对资源实行的请求方法，用来跨域请求</p>
                        <p>TRACE: 追踪请求-响应的传输路径</p>
                        <p>GET 和 POST 有什么区别？</p>
                        <p>首先最直观的是语义上的区别。----

                            而后又有这样一些具体的差别:

                        </p>
                        <p>从缓存的角度，GET 请求会被浏览器主动缓存下来，留下历史记录，而 POST 默认不会。</p>
                        <p>从编码的角度，GET 只能进行 URL 编码，只能接收 ASCII 字符，而 POST 没有限制。</p>
                        <p>从参数的角度，GET 一般放在 URL 中，因此不安全，POST 放在请求体中，更适合传输敏感信息。</p>
                        <p>从幂等性的角度，GET是幂等的，而POST不是。(幂等表示执行相同的操作，结果也是相同的)</p>
                        <p>从TCP的角度，GET 请求会把请求报文一次性发出去，而 POST 会分为两个 TCP 数据包，首先发
                            header 部分，如果服务器响应 100(continue)， 然后发 body 部分。(火狐浏览器除外，它的 POST
                            请求只发一个 TCP 包)</p>
                        <h5>003: 如何理解 URI？</h5>
                        <p>URI, 全称为(Uniform Resource Identifier), 也就是统一资源标识符，它的作用很简单，就是区分互联网上不同的资源。</p>
                        <p>但是，它并不是我们常说的网址, 网址指的是URL, 实际上URI包含了URN和URL两个部分，由于 URL 过于普及，就默认将
                            URI 视为 URL 了。</p>
                        <p>URI 的结构</p>
                        <p>URI 真正最完整的结构是这样的。</p>
                        <p><img title="1517476301723875.png" alt="phpstudy.png" src="img/http004.jpg"></p></li>
                        <p>可能你会有疑问，好像跟平时见到的不太一样啊！先别急，我们来一一拆解。</p>
                        <p>scheme 表示协议名，比如http, https, file等等。后面必须和://连在一起。</p>
                        <p>user:passwd@ 表示登录主机时的用户信息，不过很不安全，不推荐使用，也不常用。</p>
                        <p>host:port表示主机名和端口。</p>
                        <p>path表示请求路径，标记资源所在位置。</p>
                        <p>query表示查询参数，为key=val这种形式，多个键值对之间用&隔开。</p>
                        <p>fragment表示 URI 所定位的资源内的一个锚点，浏览器可以根据这个锚点跳转到对应的位置。</p>
                        <p>举个例子:</p>
                        <p>https://www.baidu.com/s?wd=HTTP&rsv_spt=1</p>
                        <p>这个 URI 中，https即scheme部分，www.baidu.com为host:port部分（注意，http 和 https 的默认
                            端口分别为80、443），/s为path部分，而wd=HTTP&rsv_spt=1就是query部分。</p>
                        <p>URI 编码</p>
                        <p>URI 只能使用ASCII, ASCII 之外的字符是不支持显示的，而且还有一部分符号是界定符，如果不加以处
                            理就会导致解析出错。</p>
                        <p>因此，URI 引入了编码机制，将所有非 ASCII 码字符和界定符转为十六进制字节值，然后在前面加个%。</p>
                        <p>如，空格被转义成了%20，三元被转义成了%E4%B8%89%E5%85%83。</p>
                        <h5>004: 如何理解 HTTP 状态码？</h5>
                        <p>RFC 规定 HTTP 的状态码为三位数，被分为五类:</p>
                        <p></p><p></p><p></p>
                        <p>1xx: 表示目前是协议处理的中间状态，还需要后续操作。</p>
                        <p>2xx: 表示成功状态。</p>
                        <p>3xx: 重定向状态，资源位置发生变动，需要重新请求。</p>
                        <p>4xx: 请求报文有误。</p>
                        <p>5xx: 服务器端发生错误。</p>
                        <p>接下来就一一分析这里面具体的状态码。</p>
                        <p>01</p>
                        <p>101 Switching Protocols。在HTTP升级为WebSocket的时候，如果服务器同意变更，就会发送状态码 101。</p>
                        <p>02</p>
                        <p>200 OK是见得最多的成功状态码。通常在响应体中放有数据。</p>
                        <p>204 No Content含义与 200 相同，但响应头后没有 body 数据。</p>
                        <p>206 Partial Content顾名思义，表示部分内容，它的使用场景为 HTTP 分块下载和断电续传，当然也会带
                            上相应的响应头字段Content-Range。</p>
                        <p>03</p>
                        <p>301 Moved Permanently即永久重定向，对应着302 Found，即临时重定向。

                            比如你的网站从 HTTP 升级到了 HTTPS 了，以前的站点再也不用了，应当返回301，这个时候浏览器默认会做缓存优化，在第二次访问的时候自动访问重定向的那个地址。

                            而如果只是暂时不可用，那么直接返回302即可，和301不同的是，浏览器并不会做缓存优化。</p>
                        <p>304 Not Modified: 当协商缓存命中时会返回这个状态码。详见浏览器缓存</p>
                        <p>04</p>
                        <p>400 Bad Request: 开发者经常看到一头雾水，只是笼统地提示了一下错误，并不知道哪里出错了。</p>
                        <p>403 Forbidden: 这实际上并不是请求报文出错，而是服务器禁止访问，原因
                            有很多，比如法律禁止、信息敏感。</p>
                        <p>404 Not Found: 资源未找到，表示没在服务器上找到相应的资源。</p>
                        <p>405 Method Not Allowed: 请求方法不被服务器端允许。</p>
                        <p>406 Not Acceptable: 资源无法满足客户端的条件。</p>
                        <p>408 Request Timeout: 服务器等待了太长时间。</p>
                        <p>409 Conflict: 多个请求发生了冲突。</p>
                        <p>413 Request Entity Too Large: 请求体的数据过大。</p>
                        <p>414 Request-URI Too Long: 请求行里的 URI 太大。</p>
                        <p>429 Too Many Request: 客户端发送的请求过多。</p>
                        <p>431 Request Header Fields Too Large请求头的字段内容太大。</p>
                        <p>05</p>
                        <p>500 Internal Server Error: 仅仅告诉你服务器出错了，出了啥错咱也不知道。</p>
                        <p>501 Not Implemented: 表示客户端请求的功能还不支持。</p>
                        <p>502 Bad Gateway: 服务器自身是正常的，但访问的时候出错了，啥错误咱也不知道。</p>
                        <p>503 Service Unavailable: 表示服务器当前很忙，暂时无法响应服务。</p>
                        <p>待续。。。。。。</p>
                       <!-- <p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
                        <p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
                        <p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
                        <p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
                        <p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
                        <p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
                        <p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
                        <p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>-->
                        <h4><a href="https://1549679555.github.io" title="李佳豪的陋居" >还有很多很多的总结，请参看下文！</a></h4>
                  </div>
                    <div class="gcont-page">
                        <div class="gj-lg-6">上一篇：<a href="https://1549679555.github.io/%E5%BF%83%E6%83%85%E6%96%87%E7%AB%A0/dream.html">我有一个梦想</a></div>
                        <div class="gj-lg-6">下一篇：<a href="http1.html">HTTP灵魂拷问，你了解你的每次请求吗？（第二章）</a></div>
                    </div>
                </div>
            </div>

            <div class="gj-wk gcl-hb">
                <!--内容页版权模块-->
            </div>
        </div>
        <div class="gj-lg-4">
            <div class="gj-wk gcl-hb">
                <!--搜索模块-->
                <div class="gj-bt">
                    <h3><i class="fa fa-search" aria-hidden="true"></i> 站内搜索</h3>
                </div>
                <div class="gj-body gj-ss1">
                    <form action="https://www.guojian945.com/index.php">
                        <input type="hidden" name="m" value="search">
                        <input type="hidden" name="c" value="index">
                        <input type="hidden" name="a" value="init">
                        <input type="hidden" name="modelid" value="1" id="modelid">
                        <input type="text" name="q" placeholder="请输入搜索关键词···">
                        <button id="searchbtn" type="submit"></button>
                    </form>
                </div>
            </div>
            <div class="gj-wk gcl-hb hidd-sm hidd-md">
                <!--标签模块-->
                <div class="gj-bt">
                    <h3><i class="fa fa-calendar" aria-hidden="true"></i> 文章归档</h3>
                </div>
                <div class="gj-body gj-link1">
                    <ul>
                        <li><a href="1517475072.html">2020年03月(3)</a></li>
                        <li><a href="1516872636.html">2020年03月(3)</a></li>

                    </ul>
                </div>
            </div>
            <div class="gj-wk gcl-hb">
                <!--侧栏-图文列表-->
                <div class="gj-bt">
                    <h3><i class="fa fa-thumbs-up" aria-hidden="true"></i> 博主推荐</h3>
                </div>
                <div class="gj-body gli-tuw1">
                    <div class="gtw-li gclear">
                        <div class="gtw-img gj-left"> <a href="https://1549679555.github.io/%E5%BF%83%E6%83%85%E6%96%87%E7%AB%A0/dream.html"><img src="static/picture/180313112951280.jpg" alt=""></a> </div>
                        <div class="gtw-body"> <a href="">
                            <h4>我有一个梦想</h4>
                        </a> <span><i class="fa fa-clock-o"> 2018-02-01</i></span> <span><i class="fa fa-eye"> 2498</i></span> </div>
                    </div>
                </div>
                <div class="gj-body gli-tuw1">
                    <div class="gtw-li gclear">
                        <div class="gtw-img gj-left"> <a href="7.html"><img src="static/picture/180313113309948.jpg" alt=""></a> </div>
                        <div class="gtw-body"> <a href="7.html">
                            <h4>我有一个梦想--为何不朽？</h4>
                        </a> <span><i class="fa fa-clock-o"> 2018-01-27</i></span> <span><i class="fa fa-eye"> 2148</i></span> </div>
                    </div>
                </div>
                <div class="gj-body gli-tuw1">
                    <div class="gtw-li gclear">
                        <div class="gtw-img gj-left"> <a href="5.html"><img src="static/picture/180313113835757.jpg" alt=""></a> </div>
                        <div class="gtw-body"> <a href="5.html">
                            <h4>李佳豪的前端踩坑日记</h4>
                        </a> <span><i class="fa fa-clock-o"> 2018-01-27</i></span> <span><i class="fa fa-eye"> 2969</i></span> </div>
                    </div>
                </div>
                <div class="gj-body gli-tuw1">
                    <div class="gtw-li gclear">
                        <div class="gtw-img gj-left"> <a href="4.html"><img src="static/picture/180125053634150.jpg" alt=""></a> </div>
                        <div class="gtw-body"> <a href="4.html">
                            <h4>给web前端开发人员的一些建议</h4>
                        </a> <span><i class="fa fa-clock-o"> 2018-01-25</i></span> <span><i class="fa fa-eye"> 1458</i></span> </div>
                    </div>
                </div>
            </div>
            <div class="gj-wk gcl-hb">
                <!--标签模块-->
                <div class="gj-bt">
                    <h3><i class="fa fa-tags" aria-hidden="true"></i> 热门标签</h3>
                </div>
                <div class="gj-body gj-link3">
                    <ul>
                        <li><a href="51.html" target="_blank">web前端</a></li>
                        <li><a href="41.html" target="_blank">GJ-UI</a></li>
                        <li><a href="22.html" target="_blank">YzmCMS</a></li>
                        <li><a href="13.html" target="_blank">我有一个梦想</a></li>
                    </ul>
                </div>
            </div>
            <div class="gj-gg">广告位不存在！</div>
            <div class="gj-wk gcl-hb">

            </div>
        </div>
    </div>
</div>


<div class="hidd-xs gcl-yh" style="border: 0">
    <!--返回顶部-->
    <a class="gj-top" style="z-index: 1030;"><i class="fa fa-arrow-up" aria-hidden="true"></i></a>
</div>

<!--GJ-UI组件模块html代码结束-->



<!--引入guojian.min.js组件脚本-->
<script src="js/guojian.min.js" type="text/javascript"></script>

<!--GJ-UI组件模块js代码开始-->
<script>
    /*GJ-UI响应式导航栏*/
    $(document).ready(function() {
        $(".gbar").click(function() {
            $(".gnav-ul").slideToggle("slow");
            return false
        })
    });
</script>
<script>
    /*返回顶部开始*/
    jQuery(function($) {
        $('.gj-top').toTop({
            autohide: true,
            offset: 320,
            speed: 500,
            right: 15,
            bottom: 15
        })
    });
</script>    <script type="js/jquery-1.8.2.min.js" ></script>
<script type="js/js.js"></script>
<script type="text/javascript" src="js/jquery.qqFace.js"></script>
<script type="text/javascript">
    $(function() {
        //评论QQ表情
        $('.emotion').qqFace({
            assign: 'content',
            path: 'https://www.guojian945.com/common/static/images/face/'

        });
    });
</script>
</body>

</html>